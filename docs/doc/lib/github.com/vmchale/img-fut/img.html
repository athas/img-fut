<!DOCTYPE HTML>
<html lang="en"><head><meta charset="utf-8"><title>lib/github.com/vmchale/img-fut/img</title><link href="../../../../../style.css" rel="stylesheet" type="text/css"></head><body><div id="header"><h1>lib/github.com/vmchale/img-fut/img</h1><ul id="navigation"><li><a href="../../../../../index.html">Contents</a></li><li><a href="../../../../../doc-index.html">Index</a></li></ul></div><div id="content"><nav id="filenav"><ul><li><a href="../../../../../doc/lib/github.com/vmchale/img-fut/img.html">lib/github.com/vmchale/img-fut/img</a></li></ul></nav><main><a id="abstract" href="#abstract" class="self_link"><h2>Abstract</h2></a><p>Various image processing functions present in SciPy&#39;s <a href="https://docs.scipy.org/doc/scipy/reference/ndimage.html">ndimage</a>.</p><a id="synopsis" href="#synopsis" class="self_link"><h2>Synopsis</h2></a><div id="overview"><div id="module"><table class="specs"><tr><td></td><td></td><td></td></tr><tr><td colspan="3"><span class="keyword">module type </span><span id="4871s"><a href="#4871">image_numeric</a></span> = {<table class="specs"><tr><td colspan="3"><span class="keyword">type </span><span id="4830s"><a href="#4830">num</a></span></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4831s"><a href="#4831">matmul</a></span></td><td class="spec_eql"> [<span id="4832">m</span>] [<span id="4833">n</span>] [<span id="4834">p</span>]: </td><td class="spec_rhs">[n][m]<a href="#4830">num</a> -&gt; [m][p]<a href="#4830">num</a> -&gt; [n][p]<a href="#4830">num</a></td></tr><tr><td colspan="3"><span class="keyword">type </span><span id="4836s"><a href="#4836">border</a></span> = #edge | #reflect</td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4837s"><a href="#4837">with_window</a></span></td><td class="spec_eql"> [<span id="4838">m</span>] [<span id="4839">n</span>]: </td><td class="spec_rhs">(<span id="4840">k</span>: i32) -&gt; ([<a href="#4840">k</a>][<a href="#4840">k</a>]<a href="#4830">num</a> -&gt; <a href="#4830">num</a>) -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4841s"><a href="#4841">ez_resize</a></span></td><td class="spec_eql"> [<span id="4842">m</span>] [<span id="4843">n</span>]: </td><td class="spec_rhs">(<span id="4844">k</span>: i32) -&gt; (<span id="4845">l</span>: i32) -&gt; [m][n]<a href="#4830">num</a> -&gt; [<a href="#4844">k</a>][<a href="#4845">l</a>]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4846s"><a href="#4846">crop</a></span></td><td class="spec_eql"> [<span id="4847">m</span>] [<span id="4848">n</span>]: </td><td class="spec_rhs">(<span id="4849">k</span>: i32) -&gt; (<span id="4850">l</span>: i32) -&gt; [m][n]<a href="#4830">num</a> -&gt; [<a href="#4849">k</a>][<a href="#4850">l</a>]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4851s"><a href="#4851">maximum_filter</a></span></td><td class="spec_eql"> [<span id="4852">m</span>] [<span id="4853">n</span>]: </td><td class="spec_rhs">i32 -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4854s"><a href="#4854">minimum_filter</a></span></td><td class="spec_eql"> [<span id="4855">m</span>] [<span id="4856">n</span>]: </td><td class="spec_rhs">i32 -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4857s"><a href="#4857">maximum_2d</a></span></td><td class="spec_eql"> [<span id="4858">m</span>] [<span id="4859">n</span>]: </td><td class="spec_rhs">[m][n]<a href="#4830">num</a> -&gt; <a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4860s"><a href="#4860">minimum_2d</a></span></td><td class="spec_eql"> [<span id="4861">m</span>] [<span id="4862">n</span>]: </td><td class="spec_rhs">[m][n]<a href="#4830">num</a> -&gt; <a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4863s"><a href="#4863">correlate</a></span></td><td class="spec_eql"> [<span id="4864">m</span>] [<span id="4865">n</span>] [<span id="4866">p</span>]: </td><td class="spec_rhs">[p][p]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4867s"><a href="#4867">convolve</a></span></td><td class="spec_eql"> [<span id="4868">m</span>] [<span id="4869">n</span>] [<span id="4870">p</span>]: </td><td class="spec_rhs">[p][p]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></td></tr></table>}</td></tr><tr><td colspan="3"><span class="keyword">module type </span><span id="4905s"><a href="#4905">image_real</a></span> = {<table class="specs"><tr><td colspan="3"><span class="keyword">include </span><a href="#4871">image_numeric</a></td></tr><tr><td colspan="3"><span class="keyword">type </span><span id="4884s"><a href="#4884">real</a></span></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4885s"><a href="#4885">mean_filter</a></span></td><td class="spec_eql"> [<span id="4886">m</span>] [<span id="4887">n</span>]: </td><td class="spec_rhs">i32 -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4888s"><a href="#4888">sobel</a></span></td><td class="spec_eql"> [<span id="4889">m</span>] [<span id="4890">n</span>]: </td><td class="spec_rhs">[m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4891s"><a href="#4891">prewitt</a></span></td><td class="spec_eql"> [<span id="4892">m</span>] [<span id="4893">n</span>]: </td><td class="spec_rhs">[m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4894s"><a href="#4894">gaussian</a></span></td><td class="spec_eql"> [<span id="4895">m</span>] [<span id="4896">n</span>]: </td><td class="spec_rhs">(<span id="4897">sigma</span>: <a href="#4884">real</a>) -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4898s"><a href="#4898">laplacian</a></span></td><td class="spec_eql"> [<span id="4899">m</span>] [<span id="4900">n</span>]: </td><td class="spec_rhs">[m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4901s"><a href="#4901">laplacian_of_gaussian</a></span></td><td class="spec_eql"> [<span id="4902">m</span>] [<span id="4903">n</span>]: </td><td class="spec_rhs">(<span id="4904">sigma</span>: <a href="#4884">real</a>) -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></td></tr></table>}</td></tr><tr><td colspan="3"><span class="keyword">module type </span><span id="4929s"><a href="#4929">image_float</a></span> = {<table class="specs"><tr><td colspan="3"><span class="keyword">include </span><a href="#4905">image_real</a></td></tr><tr><td colspan="3"><span class="keyword">type </span><span id="4925s"><a href="#4925">float</a></span></td></tr><tr><td class="spec_lhs"><span class="keyword">val </span><span id="4926s"><a href="#4926">median_filter</a></span></td><td class="spec_eql"> [<span id="4927">m</span>] [<span id="4928">n</span>]: </td><td class="spec_rhs">i32 -&gt; [m][n]<a href="#4925">float</a> -&gt; [m][n]<a href="#4925">float</a></td></tr></table>}</td></tr><tr><td class="spec_lhs"><span class="keyword">module </span><span id="5163s"><a href="#5163">mk_image_numeric</a></span></td><td class="spec_eql">: </td><td class="spec_rhs">(<span id="4966">M</span>: <a href="../../../../futlib/math.html#861">numeric</a>) -&gt; (<a href="#4871">image_numeric</a><span class="keyword"> with </span><a href="#5151">num</a> = <a href="#4930">M.t</a>)</td></tr><tr><td class="spec_lhs"><span class="keyword">module </span><span id="5512s"><a href="#5512">mk_image_real</a></span></td><td class="spec_eql">: </td><td class="spec_rhs">(<span id="5229">M</span>: <a href="../../../../futlib/math.html#1032">real</a>) -&gt; (<a href="#4905">image_real</a><span class="keyword"> with </span><a href="#5505">real</a> = <a href="#5164">M.t</a>)</td></tr><tr><td class="spec_lhs"><span class="keyword">module </span><span id="5700s"><a href="#5700">mk_image_float</a></span></td><td class="spec_eql">: </td><td class="spec_rhs">(<span id="5584">M</span>: <a href="../../../../futlib/math.html#1104">float</a>) -&gt; (<a href="#4929">image_float</a><span class="keyword"> with </span><a href="#5698">float</a> = <a href="#5513">M.t</a>)</td></tr></table></div></div><a id="description" href="#description" class="self_link"><h2>Description</h2></a><dl><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#4871s">↑</a><span class="keyword">module type </span><span class="decl_name"><a id="4871">image_numeric</a></span></dt><dd class="desc_doc"><dl><dt class="desc_header"><a class="synopsis_link" href="#4830s">↑</a><span class="keyword">type </span><span class="decl_name"><a id="4830">num</a></span></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4831s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4831">matmul</a></span> [<span id="4832">m</span>] [<span id="4833">n</span>] [<span id="4834">p</span>]: [n][m]<a href="#4830">num</a> -&gt; [m][p]<a href="#4830">num</a> -&gt; [n][p]<a href="#4830">num</a></dt><dd class="desc_doc"><p>Linear transform of a grayscale image</p></dd><dt class="desc_header"><a class="synopsis_link" href="#4836s">↑</a><span class="keyword">type </span><span class="decl_name"><a id="4836">border</a></span> = #edge | #reflect</dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4837s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4837">with_window</a></span> [<span id="4838">m</span>] [<span id="4839">n</span>]: (<span id="4840">k</span>: i32) -&gt; ([<a href="#4840">k</a>][<a href="#4840">k</a>]<a href="#4830">num</a> -&gt; <a href="#4830">num</a>) -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4841s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4841">ez_resize</a></span> [<span id="4842">m</span>] [<span id="4843">n</span>]: (<span id="4844">k</span>: i32) -&gt; (<span id="4845">l</span>: i32) -&gt; [m][n]<a href="#4830">num</a> -&gt; [<a href="#4844">k</a>][<a href="#4845">l</a>]<a href="#4830">num</a></dt><dd class="desc_doc"><p>This throws away pixels; it does no interpolation</p></dd><dt class="desc_header"><a class="synopsis_link" href="#4846s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4846">crop</a></span> [<span id="4847">m</span>] [<span id="4848">n</span>]: (<span id="4849">k</span>: i32) -&gt; (<span id="4850">l</span>: i32) -&gt; [m][n]<a href="#4830">num</a> -&gt; [<a href="#4849">k</a>][<a href="#4850">l</a>]<a href="#4830">num</a></dt><dd class="desc_doc"><p>This performs no interpolation; it simply throws away pixels</p></dd><dt class="desc_header"><a class="synopsis_link" href="#4851s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4851">maximum_filter</a></span> [<span id="4852">m</span>] [<span id="4853">n</span>]: i32 -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4854s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4854">minimum_filter</a></span> [<span id="4855">m</span>] [<span id="4856">n</span>]: i32 -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4857s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4857">maximum_2d</a></span> [<span id="4858">m</span>] [<span id="4859">n</span>]: [m][n]<a href="#4830">num</a> -&gt; <a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4860s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4860">minimum_2d</a></span> [<span id="4861">m</span>] [<span id="4862">n</span>]: [m][n]<a href="#4830">num</a> -&gt; <a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4863s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4863">correlate</a></span> [<span id="4864">m</span>] [<span id="4865">n</span>] [<span id="4866">p</span>]: [p][p]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4867s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4867">convolve</a></span> [<span id="4868">m</span>] [<span id="4869">n</span>] [<span id="4870">p</span>]: [p][p]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a> -&gt; [m][n]<a href="#4830">num</a></dt><dd class="desc_doc"><p>Kernel must be a square matrix; <code>p</code> must be odd.</p></dd></dl></dd></div><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#4905s">↑</a><span class="keyword">module type </span><span class="decl_name"><a id="4905">image_real</a></span></dt><dd class="desc_doc"><dl><dt class="desc_header"><span class="synopsis_link"></span><span class="keyword">include </span><a href="#4871">image_numeric</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4884s">↑</a><span class="keyword">type </span><span class="decl_name"><a id="4884">real</a></span></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4885s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4885">mean_filter</a></span> [<span id="4886">m</span>] [<span id="4887">n</span>]: i32 -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4888s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4888">sobel</a></span> [<span id="4889">m</span>] [<span id="4890">n</span>]: [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4891s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4891">prewitt</a></span> [<span id="4892">m</span>] [<span id="4893">n</span>]: [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4894s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4894">gaussian</a></span> [<span id="4895">m</span>] [<span id="4896">n</span>]: (<span id="4897">sigma</span>: <a href="#4884">real</a>) -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"><p>2-D Gaussian blur. The first argument <code>sigma</code> is the standard deviation.</p><p>See lecture notes <a href="https://www.cs.auckland.ac.nz/courses/compsci373s1c/PatricesLectures/Gaussian%20Filtering_1up.pdf">here</a></p></dd><dt class="desc_header"><a class="synopsis_link" href="#4898s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4898">laplacian</a></span> [<span id="4899">m</span>] [<span id="4900">n</span>]: [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"><p>Laplacian filter approximated by a 3x3 fiter.</p><p>See <a href="https://homepages.inf.ed.ac.uk/rbf/HIPR2/log.htm">this page</a>.</p></dd><dt class="desc_header"><a class="synopsis_link" href="#4901s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4901">laplacian_of_gaussian</a></span> [<span id="4902">m</span>] [<span id="4903">n</span>]: (<span id="4904">sigma</span>: <a href="#4884">real</a>) -&gt; [m][n]<a href="#4884">real</a> -&gt; [m][n]<a href="#4884">real</a></dt><dd class="desc_doc"><p>See <a href="https://homepages.inf.ed.ac.uk/rbf/HIPR2/log.htm">here</a> for reference.</p></dd></dl></dd></div><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#4929s">↑</a><span class="keyword">module type </span><span class="decl_name"><a id="4929">image_float</a></span></dt><dd class="desc_doc"><dl><dt class="desc_header"><span class="synopsis_link"></span><span class="keyword">include </span><a href="#4905">image_real</a></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4925s">↑</a><span class="keyword">type </span><span class="decl_name"><a id="4925">float</a></span></dt><dd class="desc_doc"></dd><dt class="desc_header"><a class="synopsis_link" href="#4926s">↑</a><span class="keyword">val </span><span class="decl_name"><a id="4926">median_filter</a></span> [<span id="4927">m</span>] [<span id="4928">n</span>]: i32 -&gt; [m][n]<a href="#4925">float</a> -&gt; [m][n]<a href="#4925">float</a></dt><dd class="desc_doc"><p>Median filter</p></dd></dl></dd></div><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#5163s">↑</a><span class="keyword">module </span><span class="decl_name"><a id="5163">mk_image_numeric</a></span></dt><dd class="desc_doc"></dd></div><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#5512s">↑</a><span class="keyword">module </span><span class="decl_name"><a id="5512">mk_image_real</a></span></dt><dd class="desc_doc"></dd></div><div class="decl_description"><dt class="desc_header"><a class="synopsis_link" href="#5700s">↑</a><span class="keyword">module </span><span class="decl_name"><a id="5700">mk_image_float</a></span></dt><dd class="desc_doc"></dd></div></dl></main></div><div id="footer">Generated by <a href="https://futhark.readthedocs.io/en/latest/man/futhark-doc.html">futhark-doc</a> 0.14.1</div></body></html>